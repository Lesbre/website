{% def lang(fr, en) {% if {% LANG %} == FR %}fr{% else %}en{% endif %} %}
{% def lang {% lang fr en %} %}
{% def prefix {% lang fr en %} %}
{% def slug {% lang fr en %}/{% name %} %}
{% def alt {% lang en fr %}/{% name %} %}
{% def report "\"{% lang Rapport "Report (fr)" %}\"" %}
{% def slides "\"{% lang Diapositives "Slides (fr)" %}\"" %}

{% def dbutton(url, name, type, size, lang)
<a href="url" class="downloadbutton" hreflang="lang" download>
	<div class=icon><i class="far fa-file-pdf"></i></div>
	<div class=value>
		<div class=info>name</div>
		<div class=details>type &mdash; size</div>
	</div>
</a> %}

{% def CV
{% dbutton "files/CV_fr.pdf" "{% lang "CV (fr)" "Résumé (fr)" %}" PDF "0 ko" fr %}
{% dbutton "files/CV_en.pdf" "{% lang "CV (en)" "Résumé (en)" %}" PDF "0 ko" en %} %}

{% include formatter.html %}

<!doctype html>
<html lang="{% lang fr en %}">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<base href="{% URL %}">
		<title>Dorian Lesbre</title>
		{% if {% LANG %} == FR %}
		<meta name="description" content="Site personnel de Dorian Lesbre">
		{% elif {% LANG %} == EN %}
		<meta name="description" content="Dorian Lesbre's personal website">
		{% endif %}
		<meta name="keywords" content="Lesbre Dorian dlesbre dorianlesbre">
		<meta name="author" content="Dorian Lesbre">

		<link rel="canonical" href="{% defaultlang %}/{% name %}" hreflang="{% defaultlang %}">
		<link rel="icon" type="image/png" href="favicon.ico"/>
		<link rel="alternate" type="text/html" href="{% alt %}" hreflang="{% lang en fr %}">

		<link rel="stylesheet" type="text/css" href="css/style.css">
		<link rel="stylesheet" type="text/css" href="css/font-awesome-all.min.css">
		<script src="js/script.js"></script>
	</head>
	<body>
		<header>
			<h1><a class="internal" href="{% prefix %}/index.html">Dorian Lesbre</a></h1>
			<div class="hbuttons">
				<a class="alternate" title="{% lang "English version" "Version française" %}" href="{% alt %}" hreflang="{% lang en fr %}">
					<img src={% lang "\"imgs/UK_flag.svg\" alt=\"en\"" "\"imgs/FR_flag.svg\" alt=\"fr\"" %}>
				</a>
				<a class="themetoggle" onclick="toggle_theme()" title="{% lang "Thème clair/sombre" "Dark/light theme" %}""><i class="fas fa-palette"></i></a>
			</div>
		</header>

		<nav>
			{% def navbutton(link_title, url, text)
				{% call if url == {% slug %} %}
					<a class="internal current" href="url" title="link_title" hreflang="{% lang %}">text</a>
				{% call else %}
					<a class="internal" href="url" title="link_title" hreflang="{% lang %}">text</a>
				{% call endif %}
			 %}
			{% if {% LANG %} == FR %}
				{% navbutton Acceuil fr/index.html "<i class=\"fas fa-home\"></i>" %}
				{% navbutton CV fr/cv.html CV %}
				{% navbutton Fichiers fr/fichiers.html Fichiers %}
			{% elif {% LANG %} == EN %}
				{% navbutton Home en/index.html "<i class=\"fas fa-home\"></i>" %}
				{% navbutton Résumé en/cv.html Résumé %}
				{% navbutton Files en/fichiers.html Files %}
			{% endif %}
		</nav>

		<main>
			{% label main %}
		</main>

		<footer>
			{% if {% LANG %} == FR %}
				<p>Fait à la main. Code source sur <a class="link external" href="https://github.com/Lesbre/website/" hreflang="en">github</a>.<br>
				Copyright &copy; 2020 Dorian Lesbre</p>
				<p>Dernière mise à jour : {% date %}</p>
			{% elif {% LANG %} == EN %}
				<p>Handcoded. Source on <a class="link external" href="https://github.com/Lesbre/website/" hreflang="en">github</a>.<br>
				Copyright &copy; 2020 Dorian Lesbre</p>
				<p>Last updated : {% date %}</p>
			{% endif %}
		</footer>
	</body>
</html>
